{"version":3,"file":"static/js/801.4f3ecaaa.chunk.js","mappings":"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","sources":["api/user.js","pages/ProfileSettings/profile.styled.jsx","pages/ProfileSettings/profile.component.jsx","redux/user/user.actions.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst API = axios.create({ baseURL: 'http://ec2-34-207-157-116.compute-1.amazonaws.com:8000/api/user/' })\r\n//HEADER AUTHORIZATION\r\nAPI.interceptors.request.use((req) => {\r\n    const isUserStored = Boolean(localStorage.getItem('persist:root'))\r\n    if (isUserStored) {\r\n        const storedUser = localStorage.getItem('persist:root')\r\n        const storedToken = JSON.parse(JSON.parse(storedUser).user).token\r\n        req.headers.authorization = `Bearer ${storedToken}`\r\n    }\r\n    return req\r\n})\r\n\r\nexport const currentUser = () => API.get('/')\r\nexport const loginUser = (credentials) => API.post('/login', credentials)\r\nexport const signUpUser = (details) => API.post('/signup', details)\r\nexport const refreshUser = () => API.post(\"/refresh\")\r\nexport const getUser = (userId) => API.get(`/${userId}`)\r\nexport const updateUser = (details) => API.patch('/update', details)\r\nexport const followUser = (userToBeFollowed) => API.post(`/follow/${userToBeFollowed}`)","import { styled } from '@mui/material/styles'\r\nimport { Avatar } from '@mui/material'\r\n\r\nexport const StyledAvatar = styled(Avatar)({\r\n    height: 250,\r\n    width: 250,\r\n    fontSize: '12vh'\r\n})","import { Stack, Box, TextField, Typography, Button, MenuItem, Menu } from \"@mui/material\";\r\nimport { Container } from \"@mui/system\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { StyledAvatar } from \"./profile.styled\";\r\nimport FileBase from 'react-file-base64';\r\nimport { useState } from \"react\";\r\nimport { updateUser } from \"../../api/user\";\r\nimport { updateCurrentUser } from \"../../redux/user/user.actions\";\r\n\r\nconst Profile = () => {\r\n    const dispatch = useDispatch()\r\n    const { displayName, username, email, avatar } = useSelector(state => state.user.currentUser)\r\n    const [anchor, setAnchor] = useState(null)\r\n    const [profileData, setProfileData] = useState(null)\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        const updatedUser = await updateUser(profileData)\r\n        dispatch(updateCurrentUser(updatedUser.data))\r\n    }\r\n    return (\r\n        <>\r\n            <Box flex={4} p={2} sx={{ width: '100vh', mb: 20 }} component='form' onSubmit={handleSubmit} >\r\n                <Container sx={{ padding: '3%' }} maxWidth='sm' >\r\n                    <Typography mb={2} variant='h3' >Your Profile</Typography>\r\n                    <Stack spacing={5}>\r\n                        {\r\n                            avatar ? (\r\n                                <StyledAvatar sx={{ bgcolor: \"red\" }} aria-label=\"recipe\" src={avatar} />\r\n                            ) : (\r\n                                <StyledAvatar sx={{ bgcolor: \"red\" }} aria-label=\"recipe\">\r\n                                    {displayName.charAt(0)}\r\n                                </StyledAvatar>\r\n                            )\r\n                        }\r\n                        <Button variant='contained' sx={{ maxWidth: '20vh' }} onClick={(e) => setAnchor(e.currentTarget)} >Change Pic</Button>\r\n                        <TextField onChange={(e) => setProfileData({ ...profileData, displayName: e.target.value })} label='Name' variant=\"outlined\" sx={{ maxWidth: '30vh' }} defaultValue={displayName} name='name' />\r\n                        <TextField onChange={(e) => setProfileData({ ...profileData, username: e.target.value })} label='Username' variant=\"outlined\" sx={{ maxWidth: '30vh' }} defaultValue={username} />\r\n                        <TextField onChange={(e) => setProfileData({ ...profileData, email: e.target.value })} label='Email' variant=\"outlined\" sx={{ maxWidth: '30vh' }} defaultValue={email} />\r\n                        <TextField label='Password' variant=\"outlined\" sx={{ maxWidth: '30vh' }} placeholder='**********' />\r\n                        <Button type='submit' variant=\"outlined\" sx={{ maxWidth: '30vh' }} >Save</Button>\r\n                    </Stack>\r\n                </Container>\r\n            </Box>\r\n            <Menu\r\n                anchorEl={anchor}\r\n                onClose={() => setAnchor(null)}\r\n                open={Boolean(anchor)}\r\n            >\r\n                <MenuItem>\r\n                    <FileBase type=\"file\" multiple={false} onDone={({ base64 }) => { setProfileData({ ...profileData, avatar: base64 }) }} />\r\n                </MenuItem>\r\n            </Menu>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Profile;\r\n","import UserTypes from \"./user.types\";\r\nimport * as api from '../../api/user.js'\r\n\r\nexport const getCurrentUser = () => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.currentUser()\r\n        dispatch({\r\n            type: UserTypes.GET_CURRENT_USER,\r\n            paylaod: data\r\n        })\r\n    } catch (error) {\r\n        console.log(error.message)\r\n    }\r\n}\r\n\r\nexport const setCurrentUser = (user) => ({\r\n    type: UserTypes.SET_CURRENT_USER,\r\n    payload: user\r\n})\r\n\r\nexport const updateCurrentUser = (user) => ({\r\n    type: UserTypes.UPDATE_CURRENT_USER,\r\n    payload: user\r\n})\r\n\r\nexport const refreshUser = () => async(dispatch) => {\r\n    try {\r\n        const { data } = await api.refreshUser()\r\n        dispatch({\r\n            type: UserTypes.UPDATE_CURRENT_USER,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}"],"names":["API","axios","baseURL","interceptors","request","use","req","Boolean","localStorage","getItem","storedUser","storedToken","JSON","parse","user","token","headers","authorization","loginUser","credentials","post","signUpUser","details","refreshUser","getUser","userId","get","updateUser","patch","followUser","userToBeFollowed","StyledAvatar","styled","Avatar","height","width","fontSize","dispatch","useDispatch","useSelector","state","currentUser","displayName","username","email","avatar","useState","anchor","setAnchor","profileData","setProfileData","handleSubmit","e","preventDefault","updatedUser","updateCurrentUser","data","Box","flex","p","sx","mb","component","onSubmit","Container","padding","maxWidth","Typography","variant","Stack","spacing","bgcolor","src","charAt","Button","onClick","currentTarget","TextField","onChange","target","value","label","defaultValue","name","placeholder","type","Menu","anchorEl","onClose","open","MenuItem","multiple","onDone","base64","setCurrentUser","UserTypes","payload","api","console","log"],"sourceRoot":""}
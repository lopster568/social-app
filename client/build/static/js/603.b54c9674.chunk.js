"use strict";(self.webpackChunksocial_media_app=self.webpackChunksocial_media_app||[]).push([[603],{7964:function(e,t,n){n.d(t,{Jq:function(){return a},TJ:function(){return f},fR:function(){return h},fX:function(){return m},n9:function(){return d},qb:function(){return c},tf:function(){return o},ud:function(){return l},xV:function(){return u},xl:function(){return s}});var r=n(4569),i=n.n(r)().create({baseURL:"http://ec2-54-175-11-135.compute-1.amazonaws.com:8000/api/post"});i.interceptors.request.use((function(e){if(Boolean(localStorage.getItem("persist:root"))){var t=JSON.parse(JSON.parse(localStorage.getItem("persist:root")).user).token;e.headers.authorization="Bearer ".concat(t)}return e}));var a=function(){return i.get("/")},o=function(){return i.get("/feed")},s=function(e){return i.get("/".concat(e))},c=function(e){return i.post("/",e)},l=function(){return i.post("/saved")},u=function(e){return i.post("/postsby/".concat(e))},d=function(e){return i.patch("/".concat(e,"/like"))},f=function(e){return i.post("/".concat(e,"/save"))},m=function(e,t){return i.patch("/".concat(e,"/comment"),t)},h=function(e){return i.delete("/".concat(e))}},9977:function(e,t,n){var r=n(228),i=n(9434),a=n(4112),o=n(184);t.Z=function(e){var t=e.posts,n=(0,i.v9)((function(e){return e.user.currentUser})),s=null===n||void 0===n?void 0:n._id;return(0,o.jsx)(r.Z,{sx:{minHeight:"100vh"},m:0,flex:4,p:2,children:t.map((function(e){var t=e.likes.findIndex((function(e){return e===s}));return(0,o.jsx)(a.Z,{post:e,liked:-1!==t},e._id)}))})}},4112:function(e,t,n){n.d(t,{Z:function(){return se}});var r=n(8214),i=n(5861),a=n(1413),o=n(885),s=n(4942),c=n(8928),l=n(199),u=n(5194),d=n(4565),f=n(1868),m=n(1091),h=n(6875),x=n(3811),v=n(5473),p=n(1577),Z=n(7244),g=n(2791),j=n(9434),C=n(7964),b=n(6398),E=n(3978),k=n(2898),w=n(6871),S=n(184),y=function(e){var t,n=e.author,r=e.subtitle,i=e.setAnchor,a=e.noAction,o=e.id,s=(0,w.s0)();return(0,S.jsx)(b.Z,{avatar:null!==n&&void 0!==n&&n.avatar?(0,S.jsx)(x.Z,{sx:{m:0,p:0},onClick:function(){return s("/user/".concat(o))},children:(0,S.jsx)(E.Z,{alt:"User Avatar",src:null===n||void 0===n?void 0:n.avatar})}):(0,S.jsx)(x.Z,{onClick:function(){return s("/")},children:(0,S.jsx)(E.Z,{sx:{bgcolor:"red"},alt:"User Avatar",children:null===n||void 0===n||null===(t=n.displayName)||void 0===t?void 0:t.charAt(0)})}),action:a?null:(0,S.jsx)(x.Z,{"aria-label":"settings",onClick:function(e){return i(e.currentTarget)},children:(0,S.jsx)(k.Z,{})}),title:null===n||void 0===n?void 0:n.displayName,subheader:r})},I=n(4244),N=n(228),_=n(1898),W=n(9365),G=n(4420),A=n(8254),B=n(5629),U=n(6132),R=n(9562),H=n(4346),z=n(1872),L=n(2426),T=n.n(L),O=n(1686),J=function(e){var t=e.comments,n=e.expanded,r=e.postId,i=(0,g.useState)(!1),a=(0,o.Z)(i,2),s=a[0],c=a[1],l=(0,g.useState)(null),f=(0,o.Z)(l,2);f[0],f[1],(0,j.v9)((function(e){return e.user.currentUser}));return(0,S.jsx)(I.Z,{in:n,timeout:"auto",unmountOnExit:!0,children:(0,S.jsxs)(u.Z,{children:[(0,S.jsx)(N.Z,{component:"form",onSubmit:function(e){e.preventDefault(),(0,C.fX)(r,{comment:s})},children:(0,S.jsxs)(_.Z,{sx:{m:1,width:"100%"},variant:"outlined",children:[(0,S.jsx)(W.Z,{children:"Comment"}),(0,S.jsx)(G.Z,{onChange:function(e){return c(e.target.value)},endAdornment:(0,S.jsx)(A.Z,{position:"end",children:(0,S.jsx)(x.Z,{type:"submit",variant:"contained",children:(0,S.jsx)(O.Z,{})})}),label:"Comment"})]})}),(0,S.jsxs)(B.Z,{sx:{width:"100%",maxWidth:{lg:"80%"}},children:[null===t||void 0===t?void 0:t.map((function(e){var t=e._id,n=e.user,r=e.comment,i=e.createdAt;return(0,S.jsxs)(U.ZP,{alignItems:"flex-start",children:[(0,S.jsx)(R.Z,{children:(0,S.jsx)(E.Z,{alt:"Comment Author",src:n.avatar})}),(0,S.jsx)(H.Z,{primary:n.displayName,secondary:(0,S.jsxs)(S.Fragment,{children:[T()(i).fromNow(),(0,S.jsx)(d.Z,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:": ".concat(r)})]})})]},t)})),(0,S.jsx)(z.Z,{variant:"inset",component:"li"})]})]})})},M=n(5702),F=n(5514),q=function(e){var t=e.menuItemName,n=e.icon,r=e.clickHandler,i=e.postId;return(0,S.jsxs)(M.Z,{onClick:function(){return r(i)},children:[(0,S.jsx)(F.Z,{children:n}),(0,S.jsx)(d.Z,{variant:"inherit",noWrap:!0,children:t})]})},D=n(4891),P=n(91),V=n(7247),X=n(6152),K=n(1286),Q=n(7488),Y=n(580),$=n(7237),ee=n(3965),te=n(6228),ne=n(8384),re=n(6711),ie=n(277),ae=n(295),oe=(0,ie.ZP)(c.Z)((function(e){var t=e.theme;return(0,s.Z)({},t.breakpoints.down("md"),{marginBottom:"30px"})})),se=function(e){var t,n,s,c=e.post,b=e.liked,E=e.edit,k=(0,g.useState)(null),I=(0,o.Z)(k,2),N=I[0],_=I[1],W=(0,g.useState)(!1),G=(0,o.Z)(W,2),A=G[0],B=G[1],U=(0,g.useState)({}),R=(0,o.Z)(U,2),H=R[0],z=R[1],L=(0,g.useState)(!1),O=(0,o.Z)(L,2),M=O[0],F=O[1],ie=(0,j.I0)(),se=(0,j.v9)((function(e){return e.user.currentUser?e.user.currentUser._id:null})),ce=(0,w.s0)();return(0,S.jsx)(oe,{children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(y,{author:null===c||void 0===c?void 0:c.author,id:null===c||void 0===c?void 0:c.author._id,subtitle:T()(null===c||void 0===c?void 0:c.createdAt).fromNow(),setAnchor:_}),(0,S.jsx)(l.Z,{loading:"lazy",component:"img",height:"20%",image:null===c||void 0===c?void 0:c.img,alt:"Card Image"}),(0,S.jsxs)(u.Z,{children:[E?(0,S.jsxs)(D.Z,{spacing:2,children:[(0,S.jsx)(d.Z,{variant:"subtitle1",children:"Caption"}),(0,S.jsx)(f.Z,{sx:{width:"100%"},size:"small",placeholder:"Change Caption",defaultValue:null===c||void 0===c?void 0:c.caption,onChange:function(e){return z((0,a.Z)((0,a.Z)({},H),{},{caption:e.target.value}))}}),(0,S.jsx)(d.Z,{variant:"subtitle1",children:"Tags"}),(0,S.jsx)(f.Z,{sx:{width:"100%"},multiline:!0,rows:3,size:"small",placeholder:"Change Caption",defaultValue:null===c||void 0===c?void 0:c.tags,onChange:function(e){return z((0,a.Z)((0,a.Z)({},H),{},{tags:e.target.value}))}}),(0,S.jsx)(m.Z,{variant:"contained",sx:{width:"100%"},onClick:function(){},children:"Save"})]}):(0,S.jsx)(d.Z,{variant:"h6",color:"text.secondary",children:null===c||void 0===c?void 0:c.caption}),(0,S.jsxs)(d.Z,{variant:"caption",color:"text.secondary",children:["Likes: ",null===c||void 0===c||null===(t=c.likes)||void 0===t?void 0:t.length," Comments: ",null===c||void 0===c||null===(n=c.comments)||void 0===n?void 0:n.length]})]}),(0,S.jsxs)(h.Z,{disableSpacing:!0,children:[(0,S.jsx)(x.Z,{"aria-label":"add to favorites",onClick:function(){return(0,C.n9)(null===c||void 0===c?void 0:c._id)},children:(0,S.jsx)(v.Z,{icon:(0,S.jsx)(Q.Z,{}),checkedIcon:(0,S.jsx)($.Z,{sx:{color:"red"}}),defaultChecked:b})}),(0,S.jsx)(x.Z,{onClick:function(){return B(!A)},"aria-label":"share",children:(0,S.jsx)(ee.Z,{expand:A.toString(),"aria-expanded":A,"aria-label":"show more"})}),(0,S.jsx)(x.Z,{"aria-label":"add to favorites",onClick:(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,C.TJ)(null===c||void 0===c?void 0:c._id);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),ie((0,ae.b)(e.t0.response.data.message));case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),children:(0,S.jsx)(v.Z,{icon:(0,S.jsx)(P.Z,{}),checkedIcon:(0,S.jsx)(te.Z,{})})})]}),(0,S.jsx)(J,{expanded:A,comments:null===c||void 0===c?void 0:c.comments,postId:null===c||void 0===c?void 0:c._id}),(0,S.jsx)(p.Z,{anchorEl:N,onClose:function(){_(null),F(!1)},open:Boolean(N),children:M?(0,S.jsxs)(Z.Z,{children:[(0,S.jsx)(q,{menuItemName:"Confirm",sx:{backgroundColor:"red"},clickHandler:function(){(0,C.fR)(null===c||void 0===c?void 0:c._id)},icon:(0,S.jsx)(ne.Z,{sx:{color:"green"}})}),(0,S.jsx)(q,{menuItemName:"Cancel",clickHandler:function(){return F(!1)},icon:(0,S.jsx)(re.Z,{sx:{color:"red"}})})]}):(0,S.jsxs)(Z.Z,{children:[(null===c||void 0===c||null===(s=c.author)||void 0===s?void 0:s._id)===se?(0,S.jsxs)(Z.Z,{sx:{p:0},children:[(0,S.jsx)(q,{menuItemName:"Edit",clickHandler:function(){return ce("/post/edit/".concat(null===c||void 0===c?void 0:c._id))},icon:(0,S.jsx)(K.Z,{})}),(0,S.jsx)(q,{menuItemName:"Delete",clickHandler:function(){return F(!0)},postId:null===c||void 0===c?void 0:c._id,icon:(0,S.jsx)(V.Z,{})})]}):null,(0,S.jsx)(q,{menuItemName:"Share",icon:(0,S.jsx)(Y.Z,{}),clickHandler:function(){navigator.clipboard.writeText("http://localhost:3000/post/".concat(null===c||void 0===c?void 0:c._id))}}),(0,S.jsx)(q,{menuItemName:"Report",icon:(0,S.jsx)(X.Z,{}),clickHandler:function(){}})]})})]})})}},6081:function(e,t,n){var r=n(4942),i=n(8928),a=n(6398),o=n(1441),s=n(5194),c=n(225),l=n(9276),u=n(184),d=(0,c.Z)(i.Z)((function(e){var t=e.theme;return(0,r.Z)({},t.breakpoints.down("md"),{marginBottom:"30px"})}));t.Z=function(){return(0,u.jsx)(l.Z,{sx:{minHeight:"100vh",overflow:"hidden"},m:0,flex:4,p:2,children:(0,u.jsxs)(d,{children:[(0,u.jsx)(a.Z,{avatar:(0,u.jsx)(o.Z,{animation:"wave",variant:"circular",width:40,height:40}),title:(0,u.jsx)(o.Z,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:(0,u.jsx)(o.Z,{animation:"wave",height:10,width:"40%"})}),(0,u.jsx)(o.Z,{variant:"rectangular",sx:{height:"430px"}}),(0,u.jsxs)(s.Z,{children:[(0,u.jsx)(o.Z,{animation:"wave",height:30,style:{marginBottom:6}}),(0,u.jsx)(o.Z,{animation:"wave",height:10,width:"80%"})]})]})})}},1603:function(e,t,n){n.r(t);var r=n(885),i=n(9977),a=n(9434),o=n(2791),s=n(7964),c=n(224),l=n(6081),u=n(6598),d=n(4565),f=n(184);t.default=function(){var e=(0,o.useState)([]),t=(0,r.Z)(e,2),n=t[0],m=t[1],h=(0,a.I0)(),x=(0,a.v9)((function(e){return e.post_loading})),v=(0,a.v9)((function(e){return e.user.currentUser}));return(0,o.useEffect)((function(){return(0,s.tf)().then((function(e){m(e.data),h((0,c.o)())})),function(){h((0,c.o)())}}),[]),v?x?(0,f.jsx)(l.Z,{}):(0,f.jsx)(i.Z,{posts:n}):(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(u.Z,{children:[(0,f.jsx)(d.Z,{variant:"h2",children:"Get Started Now"}),(0,f.jsx)("iframe",{style:{border:"none",backgroundColor:"#ee5522;\n                background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2000 1500'%3E%3Cdefs%3E%3CradialGradient id='a' gradientUnits='objectBoundingBox'%3E%3Cstop offset='0' stop-color='%23FB3'/%3E%3Cstop offset='1' stop-color='%23ee5522'/%3E%3C/radialGradient%3E%3ClinearGradient id='b' gradientUnits='userSpaceOnUse' x1='0' y1='750' x2='1550' y2='750'%3E%3Cstop offset='0' stop-color='%23f7882b'/%3E%3Cstop offset='1' stop-color='%23ee5522'/%3E%3C/linearGradient%3E%3Cpath id='s' fill='url(%23b)' d='M1549.2 51.6c-5.4 99.1-20.2 197.6-44.2 293.6c-24.1 96-57.4 189.4-99.3 278.6c-41.9 89.2-92.4 174.1-150.3 253.3c-58 79.2-123.4 152.6-195.1 219c-71.7 66.4-149.6 125.8-232.2 177.2c-82.7 51.4-170.1 94.7-260.7 129.1c-90.6 34.4-184.4 60-279.5 76.3C192.6 1495 96.1 1502 0 1500c96.1-2.1 191.8-13.3 285.4-33.6c93.6-20.2 185-49.5 272.5-87.2c87.6-37.7 171.3-83.8 249.6-137.3c78.4-53.5 151.5-114.5 217.9-181.7c66.5-67.2 126.4-140.7 178.6-218.9c52.3-78.3 96.9-161.4 133-247.9c36.1-86.5 63.8-176.2 82.6-267.6c18.8-91.4 28.6-184.4 29.6-277.4c0.3-27.6 23.2-48.7 50.8-48.4s49.5 21.8 49.2 49.5c0 0.7 0 1.3-0.1 2L1549.2 51.6z'/%3E%3Cg id='g'%3E%3Cuse href='%23s' transform='scale(0.12) rotate(60)'/%3E%3Cuse href='%23s' transform='scale(0.2) rotate(10)'/%3E%3Cuse href='%23s' transform='scale(0.25) rotate(40)'/%3E%3Cuse href='%23s' transform='scale(0.3) rotate(-20)'/%3E%3Cuse href='%23s' transform='scale(0.4) rotate(-30)'/%3E%3Cuse href='%23s' transform='scale(0.5) rotate(20)'/%3E%3Cuse href='%23s' transform='scale(0.6) rotate(60)'/%3E%3Cuse href='%23s' transform='scale(0.7) rotate(10)'/%3E%3Cuse href='%23s' transform='scale(0.835) rotate(-40)'/%3E%3Cuse href='%23s' transform='scale(0.9) rotate(40)'/%3E%3Cuse href='%23s' transform='scale(1.05) rotate(25)'/%3E%3Cuse href='%23s' transform='scale(1.2) rotate(8)'/%3E%3Cuse href='%23s' transform='scale(1.333) rotate(-60)'/%3E%3Cuse href='%23s' transform='scale(1.45) rotate(-30)'/%3E%3Cuse href='%23s' transform='scale(1.6) rotate(10)'/%3E%3C/g%3E%3C/defs%3E%3Cg transform='rotate(0 0 0)'%3E%3Cg transform='rotate(0 0 0)'%3E%3Ccircle fill='url(%23a)' r='3000'/%3E%3Cg opacity='0.5'%3E%3Ccircle fill='url(%23a)' r='2000'/%3E%3Ccircle fill='url(%23a)' r='1800'/%3E%3Ccircle fill='url(%23a)' r='1700'/%3E%3Ccircle fill='url(%23a)' r='1651'/%3E%3Ccircle fill='url(%23a)' r='1450'/%3E%3Ccircle fill='url(%23a)' r='1250'/%3E%3Ccircle fill='url(%23a)' r='1175'/%3E%3Ccircle fill='url(%23a)' r='900'/%3E%3Ccircle fill='url(%23a)' r='750'/%3E%3Ccircle fill='url(%23a)' r='500'/%3E%3Ccircle fill='url(%23a)' r='380'/%3E%3Ccircle fill='url(%23a)' r='250'/%3E%3C/g%3E%3Cg transform='rotate(0 0 0)'%3E%3Cuse href='%23g' transform='rotate(10)'/%3E%3Cuse href='%23g' transform='rotate(120)'/%3E%3Cuse href='%23g' transform='rotate(240)'/%3E%3C/g%3E%3Ccircle fill-opacity='0.1' fill='url(%23a)' r='3000'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n                background-attachment: fixed;\n                background-size: cover !important"},width:500,height:600,src:"https://embed.lottiefiles.com/animation/92231"})]})})}},224:function(e,t,n){n.d(t,{o:function(){return i}});var r=n(2824),i=function(e){return{type:r.Z.TOGGLE_LOADING}}},6598:function(e,t,n){var r=(0,n(5950).Z)();t.Z=r},5950:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(4942),i=n(3366),a=n(7462),o=n(2791),s=n(8182),c=n(7312),l=n(1217),u=n(4419),d=n(6083),f=n(7661),m=n(5080),h=n(184),x=["className","component","disableGutters","fixed","maxWidth","classes"],v=(0,m.Z)(),p=(0,f.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat((0,c.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),Z=function(e){return(0,d.Z)({props:e,name:"MuiContainer",defaultTheme:v})},g=function(e,t){var n=e.classes,r=e.fixed,i=e.disableGutters,a=e.maxWidth,o={root:["root",a&&"maxWidth".concat((0,c.Z)(String(a))),r&&"fixed",i&&"disableGutters"]};return(0,u.Z)(o,(function(e){return(0,l.Z)(t,e)}),n)};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createStyledComponent,n=void 0===t?p:t,c=e.useThemeProps,l=void 0===c?Z:c,u=e.componentName,d=void 0===u?"MuiContainer":u,f=n((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&(0,r.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))}),(function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce((function(e,n){var r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(i).concat(t.breakpoints.unit)}),e}),{})}),(function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({},"xs"===n.maxWidth&&(0,r.Z)({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&(0,r.Z)({},t.breakpoints.up(n.maxWidth),{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}))})),m=o.forwardRef((function(e,t){var n=l(e),r=n.className,o=n.component,c=void 0===o?"div":o,u=n.disableGutters,m=void 0!==u&&u,v=n.fixed,p=void 0!==v&&v,Z=n.maxWidth,j=void 0===Z?"lg":Z,C=(0,i.Z)(n,x),b=(0,a.Z)({},n,{component:c,disableGutters:m,fixed:p,maxWidth:j}),E=g(b,d);return(0,h.jsx)(f,(0,a.Z)({as:c,ownerState:b,className:(0,s.Z)(E.root,r),ref:t},C))}));return m}}}]);
//# sourceMappingURL=603.b54c9674.chunk.js.map